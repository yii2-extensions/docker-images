#==============================================================================
# Docker Environment Variables
#==============================================================================

# Apache Configuration
APACHE_ACCESS_LOG=/proc/self/fd/1
APACHE_DOCUMENT_ROOT=/var/www/app/web
APACHE_ERROR_LOG_FILE=/proc/self/fd/2
APACHE_LOCK_DIR=/var/lock/apache2
APACHE_PID_FILE=/var/run/apache2/apache2.pid
APACHE_RUN_DIR=/var/run/apache2
APACHE_RUN_GROUP=www-data
APACHE_RUN_USER=www-data
# Apache MPM Event Configuration
APACHE_ASYNC_REQUEST_WORKER_FACTOR=2
APACHE_GRACEFUL_SHUTDOWN_TIMEOUT=10
APACHE_SERVER_LIMIT=32
APACHE_MAX_CONNECTIONS_PER_CHILD=5000
APACHE_MAX_REQUEST_WORKERS=800
APACHE_MAX_SPARE_THREADS=100
APACHE_MIN_SPARE_THREADS=25
APACHE_START_SERVERS=4
APACHE_THREAD_LIMIT=64
APACHE_THREADS_PER_CHILD=25
APACHE_LISTEN_BACKLOG=511
# Apache optional: Enable HTTP to HTTPS redirect
APACHE_SSL_ENABLED=true
APACHE_SSL_REDIRECT=false

# Docker Build Configuration
BUILD_TYPE=dev
ENABLE_HEALTH_ENDPOINT=true
PHP_VERSION=8.4

# PHP Core Configuration
PHP_MAX_EXECUTION_TIME=60
PHP_MAX_FILE_UPLOADS=20
PHP_MAX_INPUT_TIME=60
PHP_MAX_INPUT_VARS=10000
PHP_MEMORY_LIMIT=512M
PHP_POST_MAX_SIZE=100M
PHP_UPLOAD_MAX_FILESIZE=100M

# PHP Error Configuration
PHP_DISPLAY_ERRORS=on
PHP_DISPLAY_STARTUP_ERRORS=off
PHP_ERROR_LOG=/proc/self/fd/2
PHP_ERROR_REPORTING="E_ALL & ~E_DEPRECATED"
PHP_EXPOSE=off
PHP_LOG_ERRORS=on

# PHP Security Configuration
PHP_ALLOW_URL_FOPEN=on
PHP_ALLOW_URL_INCLUDE=off
PHP_DATE_TIMEZONE=UTC
PHP_DISABLE_FUNCTIONS=exec,passthru,shell_exec,system,proc_open,popen,parse_ini_file,show_source

# PHP Session Configuration
PHP_SESSION_HANDLER=files
PHP_SESSION_PATH=/var/lib/php/sessions

# PHP-FPM Configuration
PHP_FPM_ACCESS_LOG=/proc/self/fd/1
PHP_FPM_CATCH_OUTPUT=yes
PHP_FPM_IDLE_TIMEOUT=10s
PHP_FPM_LOG_LEVEL=warning
PHP_FPM_MAX_CHILDREN=50
PHP_FPM_MAX_REQUESTS=500
PHP_FPM_MAX_SPARE=35
PHP_FPM_MIN_SPARE=5
PHP_FPM_PING_PATH=/fpm-ping
PHP_FPM_PM=dynamic
PHP_FPM_REQUEST_TIMEOUT=30
PHP_FPM_RLIMIT_FILES=131072
PHP_FPM_SLOWLOG_TIMEOUT=5s
PHP_FPM_START_SERVERS=5
PHP_FPM_STATUS_PATH=/fpm-status

# SSL Configuration
SSL_AUTO_GENERATE=false
SSL_CERT_FILE=/etc/apache2/ssl/cert.pem
SSL_DIR=/etc/apache2/ssl
SSL_KEY_FILE=/etc/apache2/ssl/key.pem
